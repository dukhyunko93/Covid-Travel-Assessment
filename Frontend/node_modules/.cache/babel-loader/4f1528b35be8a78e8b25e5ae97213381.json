{"ast":null,"code":"var _jsxFileName = \"/Users/dukhyunko/Development/Covid-Travel/Covid-Travel-Risk-Assessment-Tool-frontend/src/App.js\";\nimport React from 'react';\nimport Cookies from 'js-cookie';\nimport Navbar from './components/Navbar';\nimport Home from './components/Home';\nimport { BaseProvider, LightTheme } from 'baseui';\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport { Provider as StyletronProvider } from \"styletron-react\";\nimport { Client as Styletron } from \"styletron-engine-atomic\";\nimport Login from './components/Login';\nimport SignUp from './components/SignUp';\nimport './App.css';\nimport Map from './components/Map';\nconst engine = new Styletron();\nexport default class App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      jwt: \"\",\n      loggedIn: false,\n      currentUser: null\n    };\n\n    this.componentDidMount = () => {\n      if (Cookies.get('jwt')) {\n        this.setState({\n          jwt: this.state.jwt = Cookies.get('jwt'),\n          loggedIn: true\n        });\n      }\n\n      this.getCurrentUser(this.state.jwt);\n    };\n\n    this.saveUser = userObj => {\n      this.setState({\n        currentUser: userObj,\n        loggedIn: true\n      });\n    };\n\n    this.logOut = () => {\n      console.log(\"I am being hit\");\n      Cookies.remove('jwt');\n      this.setState({\n        loggedIn: false\n      });\n    };\n  }\n\n  getCurrentUser(token) {\n    const config = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json',\n        Authorization: `Bearer ${token}`\n      }\n    };\n    fetch('http://localhost:3001/profile', config).then(response => response.json()).then(user => {\n      this.setState({\n        currentUser: user\n      });\n    });\n  }\n\n  render() {\n    // console.log('this is the thing', this.state.currentUser)\n    return /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(StyletronProvider, {\n      value: engine,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(BaseProvider, {\n      theme: LightTheme,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      currentUser: this.state.currentUser,\n      logout: this.logOut,\n      loggedIn: this.state.loggedIn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    }))), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      component: Home,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/map\",\n      render: () => /*#__PURE__*/React.createElement(Map, {\n        token: this.state.jwt,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 56\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      render: () => /*#__PURE__*/React.createElement(Login, {\n        saveUser: this.saveUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 58\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/signup\",\n      render: () => /*#__PURE__*/React.createElement(SignUp, {\n        saveUser: this.saveUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 59\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/dukhyunko/Development/Covid-Travel/Covid-Travel-Risk-Assessment-Tool-frontend/src/App.js"],"names":["React","Cookies","Navbar","Home","BaseProvider","LightTheme","BrowserRouter","Router","Switch","Route","Link","Provider","StyletronProvider","Client","Styletron","Login","SignUp","Map","engine","App","Component","state","jwt","loggedIn","currentUser","componentDidMount","get","setState","getCurrentUser","saveUser","userObj","logOut","console","log","remove","token","config","method","headers","Accept","Authorization","fetch","then","response","json","user","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Cookies from 'js-cookie';\nimport Navbar from './components/Navbar'\nimport Home from './components/Home'\nimport {BaseProvider, LightTheme} from 'baseui';\nimport {BrowserRouter as Router, Switch, Route, Link} from \"react-router-dom\";\nimport { Provider as StyletronProvider } from \"styletron-react\";\nimport { Client as Styletron } from \"styletron-engine-atomic\";\nimport Login from './components/Login'\nimport SignUp from './components/SignUp'\nimport './App.css';\nimport Map from './components/Map'\nconst engine = new Styletron();\n\nexport default class App extends React.Component {\n\n/*ToDo Refactor\n1. Clean up functions, spacing, and \n2. Add profile state logic for edit and create new component for profile. \n3. error handling for user credentials and cookie expiry missing (component mount) like modal?\n4. Add validation\n*/\n\n\n\nstate = {\n  jwt: \"\",\n  loggedIn: false,\n  currentUser: null\n}\n\ncomponentDidMount = () => {\n  if(Cookies.get('jwt')){\n    this.setState({ \n        jwt: this.state.jwt = Cookies.get('jwt'),\n        loggedIn: true\n    })\n  }\n  this.getCurrentUser(this.state.jwt)\n}\n\ngetCurrentUser(token) {\n  const config = {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      Accept: 'application/json',\n      Authorization: `Bearer ${token}`\n    }\n  }\n\n  fetch('http://localhost:3001/profile', config)\n  .then(response => response.json())\n  .then(user => {\n    this.setState({\n      currentUser: user\n    })\n  })\n}\n\nsaveUser = (userObj) => {\n    this.setState({\n      currentUser: userObj,\n      loggedIn: true\n    })\n}\n\nlogOut = () => {\n  console.log(\"I am being hit\")\n  Cookies.remove('jwt')   \n  this.setState({loggedIn: false})\n  \n}\n\n  render() {\n    // console.log('this is the thing', this.state.currentUser)\n    return (\n    \n      <Router>\n        <StyletronProvider value={engine}>\n          <BaseProvider theme={LightTheme}>\n  \n          <Navbar \n          currentUser={this.state.currentUser}\n          logout={this.logOut}\n          loggedIn={this.state.loggedIn}\n          />    \n          </BaseProvider>\n        </StyletronProvider>\n  \n        <Switch>\n                <Route exact path=\"/\" component={Home} />\n                <Route exact path=\"/map\" render={() => <Map token={this.state.jwt}/>} />\n                <Route exact path=\"/login\" render={() => <Login saveUser={this.saveUser}/>} />\n                <Route exact path=\"/signup\" render={() => <SignUp saveUser={this.saveUser} />} />\n        </Switch>\n\n      </Router>\n    );\n  }\n}\n\n\n \n"]},"metadata":{},"sourceType":"module"}