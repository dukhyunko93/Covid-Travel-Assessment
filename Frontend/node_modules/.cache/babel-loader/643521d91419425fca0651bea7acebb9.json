{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/*\nCopyright (c) 2018-2020 Uber Technologies, Inc.\n\nThis source code is licensed under the MIT license found in the\nLICENSE file in the root directory of this source tree.\n*/\n\n/* global document */\n\n\nimport * as React from 'react';\nimport FocusLock from 'react-focus-lock';\nimport { LocaleContext } from '../locale/index.js';\nimport { getOverrides } from '../helpers/overrides.js';\nimport { Layer } from '../layer/index.js';\nimport { SIZE, CLOSE_SOURCE, ANCHOR } from './constants.js';\nimport { StyledRoot, StyledBackdrop, StyledDrawerContainer, StyledDrawerBody, StyledClose, Hidden } from './styled-components.js';\nimport { CloseIcon } from './close-icon.js';\nimport { isFocusVisible, forkFocus, forkBlur } from '../utils/focusVisible.js';\n\nvar Drawer = /*#__PURE__*/function (_React$Component) {\n  _inherits(Drawer, _React$Component);\n\n  function Drawer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Drawer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Drawer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"animateOutTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"animateStartTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"lastFocus\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"lastMountNodeOverflowStyle\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_refs\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isVisible: false,\n      mounted: false,\n      isFocusVisible: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleFocus\", function (event) {\n      if (isFocusVisible(event)) {\n        _this.setState({\n          isFocusVisible: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleBlur\", function (event) {\n      if (_this.state.isFocusVisible !== false) {\n        _this.setState({\n          isFocusVisible: false\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onEscape\", function () {\n      if (!_this.props.closeable) {\n        return;\n      }\n\n      _this.triggerClose(CLOSE_SOURCE.escape);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBackdropClick\", function (event) {\n      if (_this.props.onBackdropClick) {\n        _this.props.onBackdropClick(event);\n      }\n\n      if (!_this.props.closeable) {\n        return;\n      }\n\n      _this.triggerClose(CLOSE_SOURCE.backdrop);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCloseClick\", function () {\n      _this.triggerClose(CLOSE_SOURCE.closeButton);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"animateOutComplete\", function () {\n      _this.setState({\n        isVisible: false\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Drawer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        mounted: true\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.resetMountNodeScroll();\n      this.clearTimers();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var isOpen = this.props.isOpen;\n\n      if ( // If isOpen is changing *or* we just mounted and drawer should be open\n      isOpen !== prevProps.isOpen || isOpen && this.state.mounted && !prevState.mounted) {\n        if (isOpen) {\n          this.didOpen();\n        } else {\n          this.didClose();\n        }\n      }\n    }\n  }, {\n    key: \"disableMountNodeScroll\",\n    value: function disableMountNodeScroll() {\n      if (this.props.showBackdrop) {\n        var mountNode = this.getMountNode();\n        this.lastMountNodeOverflowStyle = mountNode.style.overflow || '';\n        mountNode.style.overflow = 'hidden';\n      }\n    }\n  }, {\n    key: \"resetMountNodeScroll\",\n    value: function resetMountNodeScroll() {\n      if (this.props.showBackdrop) {\n        var mountNode = this.getMountNode();\n        var lastStyle = this.lastMountNodeOverflowStyle;\n\n        if (mountNode && lastStyle !== null) {\n          mountNode.style.overflow = lastStyle || '';\n          this.lastMountNodeOverflowStyle = null;\n        }\n      }\n    }\n  }, {\n    key: \"getMountNode\",\n    value: function getMountNode() {\n      var mountNode = this.props.mountNode;\n\n      if (mountNode) {\n        return mountNode;\n      } // Flow thinks body could be null (cast through any)\n      // eslint-disable-next-line flowtype/no-weak-types\n\n\n      return document.body;\n    }\n  }, {\n    key: \"clearTimers\",\n    value: function clearTimers() {\n      if (this.animateOutTimer) {\n        clearTimeout(this.animateOutTimer);\n      }\n\n      if (this.animateStartTimer) {\n        // eslint-disable-next-line cup/no-undef\n        cancelAnimationFrame(this.animateStartTimer);\n      }\n    }\n  }, {\n    key: \"didOpen\",\n    value: function didOpen() {\n      var _this2 = this; // Sometimes scroll starts past zero, possibly due to animation\n      // Reset scroll to 0 (other libraries do this as well)\n\n\n      var rootRef = this.getRef('Root').current;\n\n      if (rootRef) {\n        rootRef.scrollTop = 0;\n      } // Clear any existing timers (like previous animateOutTimer)\n\n\n      this.clearTimers();\n      this.disableMountNodeScroll(); // eslint-disable-next-line cup/no-undef\n\n      this.animateStartTimer = requestAnimationFrame(function () {\n        _this2.setState({\n          isVisible: true\n        });\n      });\n    }\n  }, {\n    key: \"didClose\",\n    value: function didClose() {\n      this.resetMountNodeScroll();\n      this.animateOutTimer = setTimeout(this.animateOutComplete, 500);\n    }\n  }, {\n    key: \"triggerClose\",\n    value: function triggerClose(source) {\n      // If there's no source, it just means the isOpen prop changed. No need to call onClose.\n      if (this.props.onClose && source) {\n        this.props.onClose({\n          closeSource: source\n        });\n      }\n    }\n  }, {\n    key: \"getSharedProps\",\n    value: function getSharedProps() {\n      var _this$props = this.props,\n          animate = _this$props.animate,\n          isOpen = _this$props.isOpen,\n          size = _this$props.size,\n          closeable = _this$props.closeable,\n          anchor = _this$props.anchor;\n      return {\n        $animating: animate,\n        $isVisible: this.state.isVisible,\n        $isOpen: !!isOpen,\n        $size: size,\n        $closeable: !!closeable,\n        $anchor: anchor,\n        $isFocusVisible: this.state.isFocusVisible\n      };\n    }\n  }, {\n    key: \"getChildren\",\n    value: function getChildren() {\n      var children = this.props.children;\n      return typeof children === 'function' ? children() : children;\n    }\n  }, {\n    key: \"getRef\",\n    value: function getRef(component) {\n      if (!this._refs[component]) {\n        this._refs[component] = React.createRef();\n      }\n\n      return this._refs[component];\n    }\n  }, {\n    key: \"renderDrawer\",\n    value: function renderDrawer(renderedContent) {\n      var _this3 = this;\n\n      var _this$props2 = this.props,\n          _this$props2$override = _this$props2.overrides,\n          overrides = _this$props2$override === void 0 ? {} : _this$props2$override,\n          closeable = _this$props2.closeable,\n          showBackdrop = _this$props2.showBackdrop,\n          autoFocus = _this$props2.autoFocus;\n      var RootOverride = overrides.Root,\n          DrawerContainerOverride = overrides.DrawerContainer,\n          DrawerBodyOverride = overrides.DrawerBody,\n          BackdropOverride = overrides.Backdrop,\n          CloseOverride = overrides.Close;\n\n      var _getOverrides = getOverrides(RootOverride, StyledRoot),\n          _getOverrides2 = _slicedToArray(_getOverrides, 2),\n          Root = _getOverrides2[0],\n          rootProps = _getOverrides2[1];\n\n      var _getOverrides3 = getOverrides(BackdropOverride, StyledBackdrop),\n          _getOverrides4 = _slicedToArray(_getOverrides3, 2),\n          Backdrop = _getOverrides4[0],\n          backdropProps = _getOverrides4[1];\n\n      var _getOverrides5 = getOverrides(DrawerContainerOverride, StyledDrawerContainer),\n          _getOverrides6 = _slicedToArray(_getOverrides5, 2),\n          DrawerContainer = _getOverrides6[0],\n          drawerContainerProps = _getOverrides6[1];\n\n      var _getOverrides7 = getOverrides(DrawerBodyOverride, StyledDrawerBody),\n          _getOverrides8 = _slicedToArray(_getOverrides7, 2),\n          DrawerBody = _getOverrides8[0],\n          drawerBodyProps = _getOverrides8[1];\n\n      var _getOverrides9 = getOverrides(CloseOverride, StyledClose),\n          _getOverrides10 = _slicedToArray(_getOverrides9, 2),\n          Close = _getOverrides10[0],\n          closeProps = _getOverrides10[1];\n\n      var sharedProps = this.getSharedProps();\n      return React.createElement(LocaleContext.Consumer, null, function (locale) {\n        return (// eslint-disable-next-line jsx-a11y/no-autofocus\n          React.createElement(FocusLock, {\n            returnFocus: true,\n            autoFocus: autoFocus\n          }, React.createElement(Root, _extends({\n            \"data-baseweb\": \"drawer\",\n            ref: _this3.getRef('Root')\n          }, sharedProps, rootProps), showBackdrop && React.createElement(Backdrop, _extends({\n            onClick: _this3.onBackdropClick\n          }, sharedProps, backdropProps)), React.createElement(DrawerContainer, _extends({\n            \"aria-label\": \"drawer\"\n          }, sharedProps, drawerContainerProps), React.createElement(DrawerBody, _extends({}, sharedProps, drawerBodyProps), renderedContent), closeable ? React.createElement(Close, _extends({\n            \"aria-label\": locale.drawer.close,\n            onClick: _this3.onCloseClick\n          }, sharedProps, closeProps, {\n            onFocus: forkFocus(closeProps, _this3.handleFocus),\n            onBlur: forkBlur(closeProps, _this3.handleBlur)\n          }), React.createElement(CloseIcon, null)) : null)))\n        );\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var mountedAndOpen = this.state.mounted && (this.props.isOpen || this.state.isVisible);\n      var renderedContent = mountedAndOpen || this.props.renderAll ? this.getChildren() : null;\n\n      if (renderedContent) {\n        if (mountedAndOpen) {\n          return React.createElement(Layer, {\n            onEscape: this.onEscape,\n            mountNode: this.props.mountNode\n          }, this.renderDrawer(renderedContent));\n        } else {\n          return React.createElement(Hidden, null, renderedContent);\n        }\n      }\n\n      return null;\n    }\n  }]);\n\n  return Drawer;\n}(React.Component);\n\n_defineProperty(Drawer, \"defaultProps\", {\n  animate: true,\n  closeable: true,\n  isOpen: false,\n  overrides: {},\n  size: SIZE.default,\n  anchor: ANCHOR.right,\n  showBackdrop: true,\n  autoFocus: true,\n  renderAll: false\n});\n\nexport default Drawer;","map":{"version":3,"sources":["/Users/dukhyunko/Development/Covid-Travel/Covid-Travel-Risk-Assessment-Tool-frontend/node_modules/baseui/esm/drawer/drawer.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_extends","Object","assign","target","i","arguments","length","source","key","hasOwnProperty","call","apply","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","toString","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","err","Array","isArray","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","_setPrototypeOf","p","_defineProperty","React","FocusLock","LocaleContext","getOverrides","Layer","SIZE","CLOSE_SOURCE","ANCHOR","StyledRoot","StyledBackdrop","StyledDrawerContainer","StyledDrawerBody","StyledClose","Hidden","CloseIcon","isFocusVisible","forkFocus","forkBlur","Drawer","_React$Component","_getPrototypeOf2","_this","_len","args","_key","concat","isVisible","mounted","event","setState","state","closeable","triggerClose","escape","onBackdropClick","backdrop","closeButton","componentDidMount","componentWillUnmount","resetMountNodeScroll","clearTimers","componentDidUpdate","prevProps","prevState","isOpen","didOpen","didClose","disableMountNodeScroll","showBackdrop","mountNode","getMountNode","lastMountNodeOverflowStyle","style","overflow","lastStyle","document","body","animateOutTimer","clearTimeout","animateStartTimer","cancelAnimationFrame","_this2","rootRef","getRef","current","scrollTop","requestAnimationFrame","setTimeout","animateOutComplete","onClose","closeSource","getSharedProps","_this$props","animate","size","anchor","$animating","$isVisible","$isOpen","$size","$closeable","$anchor","$isFocusVisible","getChildren","children","component","_refs","createRef","renderDrawer","renderedContent","_this3","_this$props2","_this$props2$override","overrides","autoFocus","RootOverride","Root","DrawerContainerOverride","DrawerContainer","DrawerBodyOverride","DrawerBody","BackdropOverride","Backdrop","CloseOverride","Close","_getOverrides","_getOverrides2","rootProps","_getOverrides3","_getOverrides4","backdropProps","_getOverrides5","_getOverrides6","drawerContainerProps","_getOverrides7","_getOverrides8","drawerBodyProps","_getOverrides9","_getOverrides10","closeProps","sharedProps","createElement","Consumer","locale","returnFocus","ref","onClick","drawer","close","onCloseClick","onFocus","handleFocus","onBlur","handleBlur","render","mountedAndOpen","renderAll","onEscape","Component","default","right"],"mappings":"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","sourcesContent":["function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\nCopyright (c) 2018-2020 Uber Technologies, Inc.\n\nThis source code is licensed under the MIT license found in the\nLICENSE file in the root directory of this source tree.\n*/\n\n/* global document */\nimport * as React from 'react';\nimport FocusLock from 'react-focus-lock';\nimport { LocaleContext } from '../locale/index.js';\nimport { getOverrides } from '../helpers/overrides.js';\nimport { Layer } from '../layer/index.js';\nimport { SIZE, CLOSE_SOURCE, ANCHOR } from './constants.js';\nimport { StyledRoot, StyledBackdrop, StyledDrawerContainer, StyledDrawerBody, StyledClose, Hidden } from './styled-components.js';\nimport { CloseIcon } from './close-icon.js';\nimport { isFocusVisible, forkFocus, forkBlur } from '../utils/focusVisible.js';\n\nvar Drawer =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Drawer, _React$Component);\n\n  function Drawer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Drawer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Drawer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"animateOutTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"animateStartTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"lastFocus\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"lastMountNodeOverflowStyle\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_refs\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isVisible: false,\n      mounted: false,\n      isFocusVisible: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleFocus\", function (event) {\n      if (isFocusVisible(event)) {\n        _this.setState({\n          isFocusVisible: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleBlur\", function (event) {\n      if (_this.state.isFocusVisible !== false) {\n        _this.setState({\n          isFocusVisible: false\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onEscape\", function () {\n      if (!_this.props.closeable) {\n        return;\n      }\n\n      _this.triggerClose(CLOSE_SOURCE.escape);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBackdropClick\", function (event) {\n      if (_this.props.onBackdropClick) {\n        _this.props.onBackdropClick(event);\n      }\n\n      if (!_this.props.closeable) {\n        return;\n      }\n\n      _this.triggerClose(CLOSE_SOURCE.backdrop);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCloseClick\", function () {\n      _this.triggerClose(CLOSE_SOURCE.closeButton);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"animateOutComplete\", function () {\n      _this.setState({\n        isVisible: false\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Drawer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        mounted: true\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.resetMountNodeScroll();\n      this.clearTimers();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var isOpen = this.props.isOpen;\n\n      if ( // If isOpen is changing *or* we just mounted and drawer should be open\n      isOpen !== prevProps.isOpen || isOpen && this.state.mounted && !prevState.mounted) {\n        if (isOpen) {\n          this.didOpen();\n        } else {\n          this.didClose();\n        }\n      }\n    }\n  }, {\n    key: \"disableMountNodeScroll\",\n    value: function disableMountNodeScroll() {\n      if (this.props.showBackdrop) {\n        var mountNode = this.getMountNode();\n        this.lastMountNodeOverflowStyle = mountNode.style.overflow || '';\n        mountNode.style.overflow = 'hidden';\n      }\n    }\n  }, {\n    key: \"resetMountNodeScroll\",\n    value: function resetMountNodeScroll() {\n      if (this.props.showBackdrop) {\n        var mountNode = this.getMountNode();\n        var lastStyle = this.lastMountNodeOverflowStyle;\n\n        if (mountNode && lastStyle !== null) {\n          mountNode.style.overflow = lastStyle || '';\n          this.lastMountNodeOverflowStyle = null;\n        }\n      }\n    }\n  }, {\n    key: \"getMountNode\",\n    value: function getMountNode() {\n      var mountNode = this.props.mountNode;\n\n      if (mountNode) {\n        return mountNode;\n      } // Flow thinks body could be null (cast through any)\n      // eslint-disable-next-line flowtype/no-weak-types\n\n\n      return document.body;\n    }\n  }, {\n    key: \"clearTimers\",\n    value: function clearTimers() {\n      if (this.animateOutTimer) {\n        clearTimeout(this.animateOutTimer);\n      }\n\n      if (this.animateStartTimer) {\n        // eslint-disable-next-line cup/no-undef\n        cancelAnimationFrame(this.animateStartTimer);\n      }\n    }\n  }, {\n    key: \"didOpen\",\n    value: function didOpen() {\n      var _this2 = this;\n\n      // Sometimes scroll starts past zero, possibly due to animation\n      // Reset scroll to 0 (other libraries do this as well)\n      var rootRef = this.getRef('Root').current;\n\n      if (rootRef) {\n        rootRef.scrollTop = 0;\n      } // Clear any existing timers (like previous animateOutTimer)\n\n\n      this.clearTimers();\n      this.disableMountNodeScroll(); // eslint-disable-next-line cup/no-undef\n\n      this.animateStartTimer = requestAnimationFrame(function () {\n        _this2.setState({\n          isVisible: true\n        });\n      });\n    }\n  }, {\n    key: \"didClose\",\n    value: function didClose() {\n      this.resetMountNodeScroll();\n      this.animateOutTimer = setTimeout(this.animateOutComplete, 500);\n    }\n  }, {\n    key: \"triggerClose\",\n    value: function triggerClose(source) {\n      // If there's no source, it just means the isOpen prop changed. No need to call onClose.\n      if (this.props.onClose && source) {\n        this.props.onClose({\n          closeSource: source\n        });\n      }\n    }\n  }, {\n    key: \"getSharedProps\",\n    value: function getSharedProps() {\n      var _this$props = this.props,\n          animate = _this$props.animate,\n          isOpen = _this$props.isOpen,\n          size = _this$props.size,\n          closeable = _this$props.closeable,\n          anchor = _this$props.anchor;\n      return {\n        $animating: animate,\n        $isVisible: this.state.isVisible,\n        $isOpen: !!isOpen,\n        $size: size,\n        $closeable: !!closeable,\n        $anchor: anchor,\n        $isFocusVisible: this.state.isFocusVisible\n      };\n    }\n  }, {\n    key: \"getChildren\",\n    value: function getChildren() {\n      var children = this.props.children;\n      return typeof children === 'function' ? children() : children;\n    }\n  }, {\n    key: \"getRef\",\n    value: function getRef(component) {\n      if (!this._refs[component]) {\n        this._refs[component] = React.createRef();\n      }\n\n      return this._refs[component];\n    }\n  }, {\n    key: \"renderDrawer\",\n    value: function renderDrawer(renderedContent) {\n      var _this3 = this;\n\n      var _this$props2 = this.props,\n          _this$props2$override = _this$props2.overrides,\n          overrides = _this$props2$override === void 0 ? {} : _this$props2$override,\n          closeable = _this$props2.closeable,\n          showBackdrop = _this$props2.showBackdrop,\n          autoFocus = _this$props2.autoFocus;\n      var RootOverride = overrides.Root,\n          DrawerContainerOverride = overrides.DrawerContainer,\n          DrawerBodyOverride = overrides.DrawerBody,\n          BackdropOverride = overrides.Backdrop,\n          CloseOverride = overrides.Close;\n\n      var _getOverrides = getOverrides(RootOverride, StyledRoot),\n          _getOverrides2 = _slicedToArray(_getOverrides, 2),\n          Root = _getOverrides2[0],\n          rootProps = _getOverrides2[1];\n\n      var _getOverrides3 = getOverrides(BackdropOverride, StyledBackdrop),\n          _getOverrides4 = _slicedToArray(_getOverrides3, 2),\n          Backdrop = _getOverrides4[0],\n          backdropProps = _getOverrides4[1];\n\n      var _getOverrides5 = getOverrides(DrawerContainerOverride, StyledDrawerContainer),\n          _getOverrides6 = _slicedToArray(_getOverrides5, 2),\n          DrawerContainer = _getOverrides6[0],\n          drawerContainerProps = _getOverrides6[1];\n\n      var _getOverrides7 = getOverrides(DrawerBodyOverride, StyledDrawerBody),\n          _getOverrides8 = _slicedToArray(_getOverrides7, 2),\n          DrawerBody = _getOverrides8[0],\n          drawerBodyProps = _getOverrides8[1];\n\n      var _getOverrides9 = getOverrides(CloseOverride, StyledClose),\n          _getOverrides10 = _slicedToArray(_getOverrides9, 2),\n          Close = _getOverrides10[0],\n          closeProps = _getOverrides10[1];\n\n      var sharedProps = this.getSharedProps();\n      return React.createElement(LocaleContext.Consumer, null, function (locale) {\n        return (// eslint-disable-next-line jsx-a11y/no-autofocus\n          React.createElement(FocusLock, {\n            returnFocus: true,\n            autoFocus: autoFocus\n          }, React.createElement(Root, _extends({\n            \"data-baseweb\": \"drawer\",\n            ref: _this3.getRef('Root')\n          }, sharedProps, rootProps), showBackdrop && React.createElement(Backdrop, _extends({\n            onClick: _this3.onBackdropClick\n          }, sharedProps, backdropProps)), React.createElement(DrawerContainer, _extends({\n            \"aria-label\": \"drawer\"\n          }, sharedProps, drawerContainerProps), React.createElement(DrawerBody, _extends({}, sharedProps, drawerBodyProps), renderedContent), closeable ? React.createElement(Close, _extends({\n            \"aria-label\": locale.drawer.close,\n            onClick: _this3.onCloseClick\n          }, sharedProps, closeProps, {\n            onFocus: forkFocus(closeProps, _this3.handleFocus),\n            onBlur: forkBlur(closeProps, _this3.handleBlur)\n          }), React.createElement(CloseIcon, null)) : null)))\n        );\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var mountedAndOpen = this.state.mounted && (this.props.isOpen || this.state.isVisible);\n      var renderedContent = mountedAndOpen || this.props.renderAll ? this.getChildren() : null;\n\n      if (renderedContent) {\n        if (mountedAndOpen) {\n          return React.createElement(Layer, {\n            onEscape: this.onEscape,\n            mountNode: this.props.mountNode\n          }, this.renderDrawer(renderedContent));\n        } else {\n          return React.createElement(Hidden, null, renderedContent);\n        }\n      }\n\n      return null;\n    }\n  }]);\n\n  return Drawer;\n}(React.Component);\n\n_defineProperty(Drawer, \"defaultProps\", {\n  animate: true,\n  closeable: true,\n  isOpen: false,\n  overrides: {},\n  size: SIZE.default,\n  anchor: ANCHOR.right,\n  showBackdrop: true,\n  autoFocus: true,\n  renderAll: false\n});\n\nexport default Drawer;"]},"metadata":{},"sourceType":"module"}